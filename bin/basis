#!/usr/bin/env node

var commander = require('commander');

// fetch version
commander
  .version(
    require('../package.json').version,
    '-v, --version'
  )
  .option('--no-config', 'don\'t use basis.config')
  .on('*', function(args){
    console.warn('Unknown command', args[0]);
    process.exit();
  })
  .on('build', function(a, b){
    require('../build').command('build', a.concat(b));
  })
  .on('server', function(a, b){
    require('../server').command('server', a.concat(b));
  });

// check arguments
var args = process.argv;
if (args.length < 3)
{
  console.warn('Command required, use -h or --help to get help');
  process.exit();
}

// parse arguments
commander.parse(args);
